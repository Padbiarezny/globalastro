// --- –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è, –¥–∞–Ω–Ω—ã–µ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ---
const accordionData = [
  {
    header: "üï∞Ô∏è –í—Ä–µ–º—è –ø—Ä–æ–≥–Ω–æ–∑–∞",
    groups: [
      {title: "–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ", options: [
        "–ù–∞—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –∂–∏–∑–Ω—å",
        "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –≥–æ–¥ (—Å–æ–ª—è—Ä)",
        "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –º–µ—Å—è—Ü (–ª—É–Ω–∞—Ä, –∏–Ω–≥—Ä–µ—Å—Å–∏–∏)",
        "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –Ω–µ–¥–µ–ª—é",
        "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –¥–µ–Ω—å",
        "–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–∞–º (–§–∏—Ä–¥–∞—Ä–∏–∏, –¥–∏—Ä–µ–∫—Ü–∏–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏, –í–∏–º—à–æ—Ç—Ç–∞—Ä–∏ –î–∞—à–∞)"
      ]},
      {title: "–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ", options: [
        "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ (–ø–æ —Ç—Ä–∞–Ω–∑–∏—Ç–∞–º –õ—É–Ω—ã –∏ –∞—Å–ø–µ–∫—Ç–∞–º)",
        "–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ —á–∞—Å (—á–∞—Å–æ–≤–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è / —Ö–æ—Ä–∞—Ä)"
      ]}
    ]
  },
  {
    header: "üß≠ –®–∫–æ–ª–∞/—Ç—Ä–∞–¥–∏—Ü–∏—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏–∏",
    groups: [
      {title: "–ó–∞–ø–∞–¥–Ω–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è", options: [
        "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è",
        "–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è",
        "–≠–∑–æ—Ç–µ—Ä–∏—á–µ—Å–∫–∞—è",
        "–≠–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–∞—è",
        "–£—Ä–∞–Ω–∏—á–µ—Å–∫–∞—è",
        "–ì–µ–ª–∏–æ—Ü–µ–Ω—Ç—Ä–∏—á–µ—Å–∫–∞—è"
      ]},
      {title: "–ò–Ω–¥–∏–π—Å–∫–∞—è (–í–µ–¥–∏—á–µ—Å–∫–∞—è / –î–∂–π–æ—Ç–∏—à)", options: [
        "–°–∏–¥–µ—Ä–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞",
        "–î–∞—à–∞-—Å–∏—Å—Ç–µ–º—ã (–í–∏–º—à–æ—Ç—Ç–∞—Ä–∏ –∏ –¥—Ä.)",
        "–ù–∞–≤–∞–º—à–∞ –∏ –≤–∞—Ä–≥–∏",
        "–ü–∞–Ω—á–∞–Ω–≥–∞-–ø—Ä–æ–≥–Ω–æ–∑",
        "–ú—É—Ö—É—Ä—Ç–∞"
      ]},
      {title: "–ö–∏—Ç–∞–π—Å–∫–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è", options: [
        "–ë–∞ –¶–∑—ã (4 —Å—Ç–æ–ª–ø–∞ —Å—É–¥—å–±—ã)",
        "–¶–∑—ã –í—ç–π –î–æ—É –®—É",
        "–§—ç–Ω-—à—É–π —Å –Ω–∞—Ç–∞–ª—å–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–æ–π",
        "12 –∂–∏–≤–æ—Ç–Ω—ã—Ö + —Å—Ç–∏—Ö–∏–∏"
      ]},
      {title: "–î—Ä—É–≥–æ–µ", options: [
        "–¢–∏–±–µ—Ç—Å–∫–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è",
        "–ê—Ä–∞–±—Å–∫–∞—è —Ç—Ä–∞–¥–∏—Ü–∏—è (–∞—Ä–∞–±—Å–∫–∏–µ —á–∞—Å—Ç–∏, –ª—É–Ω–Ω—ã–µ –¥–æ–º–∞)",
        "–ú–∞–π—è–Ω—Å–∫–∞—è (–¢—Ü–æ–ª–∫–∏–Ω, –ö–∏–Ω)",
        "–ö–∞—Ä–º–∏—á–µ—Å–∫–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è",
        "–û–∫–∫—É–ª—å—Ç–Ω–∞—è (–ö–∞–±–±–∞–ª–∞, –¢–∞—Ä–æ)"
      ]}
    ]
  },
  {
    header: "üîß –¢–µ—Ö–Ω–∏–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞",
    groups: [
      {title: null, options: [
        "–¢—Ä–∞–Ω–∑–∏—Ç—ã (—Ç–µ–∫—É—â–∏–µ –ø–ª–∞–Ω–µ—Ç—ã –∫ –Ω–∞—Ç–∞–ª—É)",
        "–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–∏ (1 –¥–µ–Ω—å = 1 –≥–æ–¥ –∂–∏–∑–Ω–∏)",
        "–î–∏—Ä–µ–∫—Ü–∏–∏ (—Å–º–µ—â–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –∫–∞—Ä—Ç—ã)",
        "–°–æ–ª—è—Ä (–≥–æ–¥ –æ—Ç –¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è)",
        "–õ—É–Ω–∞—Ä (–º–µ—Å—è—Ü –æ—Ç –ª—É–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞)",
        "–ò–Ω–≥—Ä–µ—Å—Å–∏–∏ (–≤—Ö–æ–¥ –ø–ª–∞–Ω–µ—Ç –≤ –∑–Ω–∞–∫–∏)",
        "–ê—Å—Ç—Ä–æ–∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—è (–ø–ª–∞–Ω–µ—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ –º–∏—Ä–∞)",
        "–•–æ—Ä–∞—Ä (–æ—Ç–≤–µ—Ç –ø–æ –º–æ–º–µ–Ω—Ç—É –≤–æ–ø—Ä–æ—Å–∞)",
        "–≠–ª–µ–∫—Ç–∏–≤ (–ø–æ–∏—Å–∫ –ª—É—á—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)"
      ]}
    ]
  },
  {
    header: "üåå –†–µ–¥–∫–∏–µ –∏ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–æ–≥–Ω–æ–∑—ã",
    groups: [
      {title: null, options: [
        "–ì–æ—Ä–æ—Å–∫–æ–ø —Å—Ç—Ä–∞–Ω—ã (–º—É–Ω–¥–∞ÃÅ–Ω–Ω–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è)",
        "–ì–æ—Ä–æ—Å–∫–æ–ø –ø–æ –¢–∞—Ä–æ",
        "–°–∞–∫—Ä–∞–ª—å–Ω–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è",
        "–ê—Å—Ç—Ä–æ–ª–æ–≥–∏—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–≤—ë–∑–¥",
        "–ö–æ—Å–º–æ–≥—Ä–∞–º–º–∞ (–±–µ–∑ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏)",
        "–ù—É–º–µ—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—è",
        "–ê—Å—Ç—Ä–æ-–ø—Å–∏—Ö–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (MBTI + –∑–æ–¥–∏–∞–∫)"
      ]}
    ]
  }
];

// --- –†–µ–Ω–¥–µ—Ä –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–æ–≤ ---
function renderAccordions() {
  const wrap = document.getElementById('accordion-wrapper');
  wrap.innerHTML = '';
  accordionData.forEach((block, i) => {
    const acc = document.createElement('div');
    acc.className = 'accordion-block';
    acc.innerHTML = `
      <div class="accordion" id="accordion${i}">
        <div class="accordion-header">${block.header}<span class="accordion-arrow">&#9654;</span></div>
        <div class="accordion-content">
          ${block.groups.map(gr =>
            `<div class="checkbox-group">
              ${gr.title ? `<div class="accordion-group-title">${gr.title}</div>` : ''}
              ${gr.options.map((opt, j) =>
                `<label><input type="checkbox" name="accordion${i}" value="${opt.replace(/"/g,'&quot;')}"> ${opt}</label>`
              ).join('')}
            </div>`
          ).join('')}
        </div>
      </div>
    `;
    wrap.appendChild(acc);
  });

  // --- –õ–æ–≥–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è –∞–∫–∫–æ—Ä–¥–µ–æ–Ω–æ–≤ ---
  document.querySelectorAll('.accordion-header').forEach(header => {
    header.onclick = function() {
      const acc = this.parentNode;
      acc.classList.toggle('open');
    };
  });
}
renderAccordions();

// --- –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤ ---
function getAccordionSelections() {
  const result = {};
  accordionData.forEach((block, i) => {
    const checked = Array.from(document.querySelectorAll(`input[name="accordion${i}"]:checked`)).map(x => x.value);
    if (checked.length) result[block.header] = checked;
  });
  return result;
}

// --- –í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∫–∞–∫ —Ä–∞–Ω—å—à–µ: —è–∑—ã–∫, –º–æ–¥–∞–ª–∫–∏, –¥–∞–Ω–Ω—ã–µ, –≤–æ–ø—Ä–æ—Å, –æ—Ç–ø—Ä–∞–≤–∫–∞ ---

// ... (–î–ê–õ–ï–ï –í–°–¢–ê–í–¨ –°–í–û–ô –†–ê–ë–û–ß–ò–ô –ö–û–î script.js –∫—Ä–æ–º–µ –±–ª–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–ª —Å—Ç–∞—Ä—É—é –∫–Ω–æ–ø–∫—É "–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏")
// –ù–∞–ø—Ä–∏–º–µ—Ä ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ "–º–æ–∏—Ö –¥–∞–Ω–Ω—ã—Ö", "–¥–∞–Ω–Ω—ã—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–∞", —è–∑—ã–∫–∏, –∏ —Ç.–¥.

// --- –ü—Ä–∏–º–µ—Ä: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–æ–ø—Ä–æ—Å–∞ —Å —É—á—ë—Ç–æ–º –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –æ–ø—Ü–∏–π ---
document.getElementById('ask
